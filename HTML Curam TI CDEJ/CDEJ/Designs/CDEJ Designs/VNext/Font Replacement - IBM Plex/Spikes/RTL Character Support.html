<html>
<head>
<meta http-equiv="Content-Type" content="text/html;charset=UTF-8">
<title>RTL Character Support</title>
<link rel="stylesheet" type="text/css" id="defaultStylesheet" href="../../../../../../wiki.css" />
<script type="text/javascript" src="../../../../../../wiki.js" ></script>
<script type="text/javascript" src="../../../../../../navigation.js" ></script>
<script type="text/javascript">
    wikiName="Curam TI CDEJ";
    wikiId="urn:lsid:ibm.com:td:efdf6112-d0d3-4d1d-811e-8ccefe245ee8";
    pageName="RTL Character Support";
    pageId="urn:lsid:ibm.com:td:ce991c94-ebc8-44be-8a32-1842b7e425a7";
    toRoot="../../../../../../";
</script>
</head>
<body onload="wikiLoad()">
<div class="main-wrapper">
  <div class="wiki-title-container" id="wiki-title-container">
    <div class="wiki-title-pane">
      <div class="wiki-title-text">Curam TI CDEJ</div>
    </div>
  </div>
  <div class="title-container" id="title-container">
    <div class="title-pane"> 
      <div class="title-text">RTL Character Support</div>
    </div> 
  </div>
  <div class="main-menu-container" id="main-menu-container">
    <ul class="main-menu" id="main-menu">
    </ul>
  </div>
  <div class="content-container" id="content-container">
    <div class="content-pane"> 
<div><p dir="ltr"><strong>Overview</strong></p>

<p dir="ltr">Currently we use helvetica as our primary font. While investigating our move to IBM Plex it was noticed that characters in RTL languages were not using helvetica and instead it falls back to another font in the font family, Arial.</p>

<p dir="ltr">IBM Plex provides separate&nbsp; directories&nbsp;for these languages and the CSS that comes with a plex installation shows that they make use or these font files when the specific language is being used.</p>

<p dir="ltr">When we move to plex we should also install characters for RTL languages.&nbsp;</p>

<p dir="ltr"><strong sandbox="allow-forms allow-same-origin allow-scripts allow-popups">Language Support in Curam:</strong></p>

<p dir="ltr"><a href="https://www-01.ibm.com/common/ssi/cgi-bin/ssialias?subtype=ca&amp;infotype=an&amp;appname=iSource&amp;supplier=897&amp;letternum=ENUS216-469#availnls">https://www-01.ibm.com/common/ssi/cgi-bin/ssialias?subtype=ca&amp;infotype=an&amp;appname=iSource&amp;supplier=897&amp;letternum=ENUS216-469#availnls</a></p>

<p dir="ltr"><img lconnwikiparamattachmentname="Screen Shot 2019-11-14 at 15.53.26.png" lconnwikimacro="image" lconnresourcetype="attachment" src="RTL%20Character%20Support._ATTACHMENTS_/Screen%20Shot%202019-11-14%20at%2015.53.26.png" lconnwikiparamwikipage="RTL Character Support" lconnattachedresourcetype="page"></img></p>

<p dir="ltr"><strong sandbox="allow-forms allow-same-origin allow-scripts allow-popups">Useful tools for checking what character a font file supports.</strong></p>

<ul dir="ltr">
	<li sandbox="allow-forms allow-same-origin allow-scripts allow-popups"><a href="https://www.alphabet-type.com/tools/charset-checker/">https://www.alphabet-type.com/tools/charset-checker/</a></li>
	<li sandbox="allow-forms allow-same-origin allow-scripts allow-popups"><a href="https://fontdrop.info/">https://fontdrop.info/</a></li>
</ul>

<p dir="ltr">&nbsp;</p>

<p dir="ltr"><strong sandbox="allow-forms allow-same-origin allow-scripts allow-popups">Current Helvetica Support for characters:&nbsp;</strong></p>

<p dir="ltr"><img lconnwikiparamattachmentname="Screen Shot 2019-11-14 at 15.51.58.png" lconnwikimacro="image" lconnresourcetype="attachment" src="RTL%20Character%20Support._ATTACHMENTS_/Screen%20Shot%202019-11-14%20at%2015.51.58.png" lconnwikiparamwikipage="RTL Character Support" lconnattachedresourcetype="page"></img></p>

<p dir="ltr"><img lconnwikiparamattachmentname="Screen Shot 2019-11-14 at 15.59.39.png" lconnwikimacro="image" lconnresourcetype="attachment" src="RTL%20Character%20Support._ATTACHMENTS_/Screen%20Shot%202019-11-14%20at%2015.59.39.png" lconnwikiparamwikipage="RTL Character Support" lconnattachedresourcetype="page"></img></p>

<p dir="ltr"><img lconnwikiparamattachmentname="Screen Shot 2019-11-14 at 15.58.23.png" lconnwikimacro="image" lconnresourcetype="attachment" src="RTL%20Character%20Support._ATTACHMENTS_/Screen%20Shot%202019-11-14%20at%2015.58.23.png" lconnwikiparamwikipage="RTL Character Support" lconnattachedresourcetype="page"></img></p>

<p dir="ltr"><img lconnwikiparamattachmentname="Screen Shot 2019-11-14 at 16.00.22.png" lconnwikimacro="image" lconnresourcetype="attachment" src="RTL%20Character%20Support._ATTACHMENTS_/Screen%20Shot%202019-11-14%20at%2016.00.22.png" lconnwikiparamwikipage="RTL Character Support" lconnattachedresourcetype="page"></img></p>

<p dir="ltr"><img lconnwikiparamattachmentname="Screen Shot 2019-11-14 at 16.00.57.png" lconnwikimacro="image" lconnresourcetype="attachment" src="RTL%20Character%20Support._ATTACHMENTS_/Screen%20Shot%202019-11-14%20at%2016.00.57.png" lconnwikiparamwikipage="RTL Character Support" lconnattachedresourcetype="page"></img></p>

<p dir="ltr">&nbsp;</p>

<p dir="ltr"><img lconnwikiparamattachmentname="Screen Shot 2019-11-14 at 16.01.34.png" lconnwikimacro="image" lconnresourcetype="attachment" src="RTL%20Character%20Support._ATTACHMENTS_/Screen%20Shot%202019-11-14%20at%2016.01.34.png" lconnwikiparamwikipage="RTL Character Support" lconnattachedresourcetype="page"></img></p>

<p dir="ltr">&nbsp;</p>

<p dir="ltr"><img lconnwikiparamattachmentname="Screen Shot 2019-11-14 at 16.02.10.png" lconnwikimacro="image" lconnresourcetype="attachment" src="RTL%20Character%20Support._ATTACHMENTS_/Screen%20Shot%202019-11-14%20at%2016.02.10.png" lconnwikiparamwikipage="RTL Character Support" lconnattachedresourcetype="page"></img></p>

<p dir="ltr"><strong sandbox="allow-forms allow-same-origin allow-scripts allow-popups">Discussion on Slack with David Way.</strong></p>

<p dir="ltr"><a aria-haspopup="true" data-message-sender="W4FMHCT27" data-qa="message_sender_name" href="https://app.slack.com/team/W4FMHCT27" rel="noopener noreferrer" target="_blank">Pádraig Rochford</a>&nbsp;&nbsp;<a aria-describedby="slack-kit-tooltip" delay="300" href="https://ibm-watsonhealth.slack.com/archives/GMSLUFGDQ/p1573560926003800?thread_ts=1573558189.002200&amp;cid=GMSLUFGDQ">2 days ago</a><br sandbox="allow-forms allow-same-origin allow-scripts allow-popups" />
Yes, plex have split &amp; complete font files in the IBM-Plex-Sans folder that comes down withnpm install @ibm/plexThere are some other folder that get installed too.<br sandbox="allow-forms allow-same-origin allow-scripts allow-popups" />
‘IBM-Plex-Arabic’ for example, which contains all Arabic characters.The characters in that directory, are not in IBM-Plex-Sans/fonts/complete/woff/*.woff,<br sandbox="allow-forms allow-same-origin allow-scripts allow-popups" />
(or the /fonts/split/woff/&nbsp;&nbsp;<wbr sandbox="allow-forms allow-same-origin allow-scripts allow-popups"></wbr>font files)The css (“css/ibm-plex.css) has classes that use IBM-Plex-Arabic.I’m not sure why Arabic is&nbsp;&nbsp;<wbr sandbox="allow-forms allow-same-origin allow-scripts allow-popups"></wbr>in a list of unreleased languages for Plex and yet there is a directory for Arabic shipped with it.But for Helvetica; I noticed that the existing Helvetica files do not contain Arabic characters either. And when I test the curam application&nbsp;&nbsp;<wbr sandbox="allow-forms allow-same-origin allow-scripts allow-popups"></wbr>on an Arabic build, it falls back to the 3rd font in the font-family (arial) and the browser mentions that it was found locally. So, it looks like we are not actually shipping a font for that language.For Plex - the files that contain the character sets for this language are in their own directory,<br sandbox="allow-forms allow-same-origin allow-scripts allow-popups" />
should we include these files in our implementation?</p>

<p dir="ltr"><a aria-haspopup="true" data-message-sender="W4BQ05K8A" data-qa="message_sender_name" href="https://app.slack.com/team/W4BQ05K8A" rel="noopener noreferrer" target="_blank">DAVID WAY</a>&nbsp;&nbsp;<a aria-describedby="slack-kit-tooltip" delay="300" href="https://ibm-watsonhealth.slack.com/archives/GMSLUFGDQ/p1573561609004000?thread_ts=1573558189.002200&amp;cid=GMSLUFGDQ">2 days ago</a><br sandbox="allow-forms allow-same-origin allow-scripts allow-popups" />
Is it possible to ship only the additional font files when they are required?</p>

<p dir="ltr"><a aria-haspopup="true" data-message-sender="W4BQ05K8A" data-qa="message_sender_name" href="https://app.slack.com/team/W4BQ05K8A" rel="noopener noreferrer" target="_blank">DAVID WAY</a>&nbsp;&nbsp;<a aria-describedby="slack-kit-tooltip" delay="300" href="https://ibm-watsonhealth.slack.com/archives/GMSLUFGDQ/p1573562359004200?thread_ts=1573558189.002200&amp;cid=GMSLUFGDQ">2 days ago</a><br sandbox="allow-forms allow-same-origin allow-scripts allow-popups" />
I looks like you can use the unicode-range to determine what language is being used on the page and load the appropriate file.</p>

<blockquote data-stringify-type="quote" dir="ltr">If the page doesn't use any character in this range, the font is not downloaded; if it uses at least one, the whole font is downloaded.</blockquote>

<p dir="ltr">(edited)</p>

<p dir="ltr"><a aria-haspopup="true" data-message-sender="W4FMHCT27" data-qa="message_sender_name" href="https://app.slack.com/team/W4FMHCT27" rel="noopener noreferrer" target="_blank">Pádraig Rochford</a>&nbsp;&nbsp;<a aria-describedby="slack-kit-tooltip" delay="300" href="https://ibm-watsonhealth.slack.com/archives/GMSLUFGDQ/p1573738649000100?thread_ts=1573558189.002200&amp;cid=GMSLUFGDQ">2 hours ago</a><br sandbox="allow-forms allow-same-origin allow-scripts allow-popups" />
Thanks, It looks like that should work.<br sandbox="allow-forms allow-same-origin allow-scripts allow-popups" />
I’ve used&nbsp;&nbsp;<wbr sandbox="allow-forms allow-same-origin allow-scripts allow-popups"></wbr>this approach and put it through for testing. It needs an Arabic installation to test properly.</p>

<p dir="ltr">&nbsp;</p>

<p dir="ltr">&nbsp;</p>

<p dir="ltr"><strong sandbox="allow-forms allow-same-origin allow-scripts allow-popups">Browser support for &nbsp;unicode-range&nbsp;</strong>(red:NO SUPPORT, light-green:PARTIAL SUPPORT, green:FULLY SUPPORTED):</p>

<p dir="ltr"><img lconnwikiparamattachmentname="Screen Shot 2019-11-13 at 13.41.30.png" lconnwikimacro="image" lconnresourcetype="attachment" src="RTL%20Character%20Support._ATTACHMENTS_/Screen%20Shot%202019-11-13%20at%2013.41.30.png" lconnwikiparamwikipage="RTL Character Support" lconnattachedresourcetype="page"></img></p>

<p dir="ltr"><strong sandbox="allow-forms allow-same-origin allow-scripts allow-popups">Some&nbsp;web page trawling to get the list of UniCode characters:</strong></p>

<p dir="ltr">This is a Tamper Monkey Script for extracting Unicode characters from&nbsp;<a href="https://www.key-shortcut.com/en/writing-systems/%EF%BA%95%EF%BA%8F%D8%A2-arabic-alphabet">https://www.key-shortcut.com/en/writing-systems/%EF%BA%95%EF%BA%8F%D8%A2-arabic-alphabet</a></p>

<p dir="ltr">Tamper Monkey:</p>

<p dir="ltr"><a href="https://chrome.google.com/webstore/detail/tampermonkey/dhdgffkkebhmkfjojejmpbldmpobfkfo?hl=en">https://chrome.google.com/webstore/detail/tampermonkey/dhdgffkkebhmkfjojejmpbldmpobfkfo?hl=en</a></p>

<p dir="ltr">Another useful tool for getting XPATH on a page is the&nbsp;xPath Finder plugin for Chrome:</p>

<p dir="ltr"><a href="https://chrome.google.com/webstore/detail/xpath-finder/ihnknokegkbpmofmafnkoadfjkhlogph?hl=en">https://chrome.google.com/webstore/detail/xpath-finder/ihnknokegkbpmofmafnkoadfjkhlogph?hl=en</a></p>

<p dir="ltr">&nbsp;</p>

<p dir="ltr"><span style="background-color:#d3d3d3;">// ==UserScript==</span><br sandbox="allow-forms allow-same-origin allow-scripts allow-popups" />
<span style="background-color:#d3d3d3;">// @name &nbsp; &nbsp; &nbsp; &nbsp; Get unicode values from key-shortcut.com</span><br sandbox="allow-forms allow-same-origin allow-scripts allow-popups" />
<span style="background-color:#d3d3d3;">// @namespace &nbsp; &nbsp;</span><a href="http://tampermonkey.net/"><span style="background-color:#d3d3d3;">http://tampermonkey.net/</span></a><br sandbox="allow-forms allow-same-origin allow-scripts allow-popups" />
<span style="background-color:#d3d3d3;">// @version &nbsp; &nbsp; &nbsp;0.1</span><br sandbox="allow-forms allow-same-origin allow-scripts allow-popups" />
<span style="background-color:#d3d3d3;">// @description &nbsp;Get unicode range in a csv format</span><br sandbox="allow-forms allow-same-origin allow-scripts allow-popups" />
<span style="background-color:#d3d3d3;">// @author &nbsp; &nbsp; &nbsp; Padraig Rochford</span><br sandbox="allow-forms allow-same-origin allow-scripts allow-popups" />
<span style="background-color:#d3d3d3;">// @match &nbsp; &nbsp; &nbsp; &nbsp;</span><a href="https://www.key-shortcut.com/en/writing-systems/%EF%BA%95%EF%BA%8F%D8%A2-arabic-alphabet"><span style="background-color:#d3d3d3;">https://www.key-shortcut.com/en/writing-systems/%EF%BA%95%EF%BA%8F%D8%A2-arabic-alphabet</span></a><br sandbox="allow-forms allow-same-origin allow-scripts allow-popups" />
<span style="background-color:#d3d3d3;">// @grant &nbsp; &nbsp; &nbsp; &nbsp;none</span><br sandbox="allow-forms allow-same-origin allow-scripts allow-popups" />
<span style="background-color:#d3d3d3;">// ==/UserScript==</span></p>

<p dir="ltr"><span style="background-color:#d3d3d3;">function getcsvValues(tableNumber,tableLength, tableWidth){</span><br sandbox="allow-forms allow-same-origin allow-scripts allow-popups" />
<span style="background-color:#d3d3d3;">&nbsp; &nbsp; var csvlist ="";</span><br sandbox="allow-forms allow-same-origin allow-scripts allow-popups" />
<span style="background-color:#d3d3d3;">&nbsp; &nbsp; for (var row = 1; row &lt;= tableLength; row++){</span><br sandbox="allow-forms allow-same-origin allow-scripts allow-popups" />
<span style="background-color:#d3d3d3;">&nbsp; &nbsp; &nbsp; &nbsp; for (var x = 1; x &lt;= tableWidth; x++)</span><br sandbox="allow-forms allow-same-origin allow-scripts allow-popups" />
<span style="background-color:#d3d3d3;">&nbsp; &nbsp; &nbsp; &nbsp; {</span><br sandbox="allow-forms allow-same-origin allow-scripts allow-popups" />
<span style="background-color:#d3d3d3;">&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; //console.log("Table: " + tableNumber + "x,y is:" + row + "," + x);</span><br sandbox="allow-forms allow-same-origin allow-scripts allow-popups" />
<span style="background-color:#d3d3d3;">&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; csvlist+=(document.evaluate("/html/body/div[2]/div[2]/div[3]/div[" + tableNumber + "]/div/table/tbody/tr[" + row + "]/td[" + x + "]/span[1]", document, null,XPathResult.FIRST_ORDERED_NODE_TYPE, null).singleNodeValue.innerHTML) + ",";</span><br sandbox="allow-forms allow-same-origin allow-scripts allow-popups" />
<span style="background-color:#d3d3d3;">&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; //console.log(csvlist);</span><br sandbox="allow-forms allow-same-origin allow-scripts allow-popups" />
<span style="background-color:#d3d3d3;">&nbsp; &nbsp; &nbsp; &nbsp; }</span><br sandbox="allow-forms allow-same-origin allow-scripts allow-popups" />
<span style="background-color:#d3d3d3;">&nbsp; &nbsp; }</span><br sandbox="allow-forms allow-same-origin allow-scripts allow-popups" />
<span style="background-color:#d3d3d3;">&nbsp; &nbsp; console.log("Table: " + tableNumber);</span><br sandbox="allow-forms allow-same-origin allow-scripts allow-popups" />
<span style="background-color:#d3d3d3;">&nbsp; &nbsp; console.log(csvlist);</span><br sandbox="allow-forms allow-same-origin allow-scripts allow-popups" />
<span style="background-color:#d3d3d3;">}</span></p>

<p dir="ltr"><span style="background-color:#d3d3d3;">(function() {</span><br sandbox="allow-forms allow-same-origin allow-scripts allow-popups" />
<span style="background-color:#d3d3d3;">&nbsp; &nbsp; 'use strict';</span><br sandbox="allow-forms allow-same-origin allow-scripts allow-popups" />
<span style="background-color:#d3d3d3;">&nbsp; &nbsp; console.log("Starting at Table 1");</span><br sandbox="allow-forms allow-same-origin allow-scripts allow-popups" />
<span style="background-color:#d3d3d3;">&nbsp; &nbsp; // XPATH for last value in table 1:</span><br sandbox="allow-forms allow-same-origin allow-scripts allow-popups" />
<span style="background-color:#d3d3d3;">&nbsp; &nbsp; // XPATH: /html/body/div[2]/div[2]/div[3]/div[1]/div/table/tbody/tr[16]/td[16]/span[1]</span><br sandbox="allow-forms allow-same-origin allow-scripts allow-popups" />
<span style="background-color:#d3d3d3;">&nbsp; &nbsp; getcsvValues(1,16,16);</span><br sandbox="allow-forms allow-same-origin allow-scripts allow-popups" />
<span style="background-color:#d3d3d3;">&nbsp; &nbsp; getcsvValues(2,3,16);</span><br sandbox="allow-forms allow-same-origin allow-scripts allow-popups" />
<span style="background-color:#d3d3d3;">&nbsp; &nbsp; // XPATH for last value in table 3:</span><br sandbox="allow-forms allow-same-origin allow-scripts allow-popups" />
<span style="background-color:#d3d3d3;">&nbsp; &nbsp; // XAPTH: /html/body/div[2]/div[2]/div[3]/div[3]/div/table/tbody/tr[6]/td[16]/span[1]</span><br sandbox="allow-forms allow-same-origin allow-scripts allow-popups" />
<span style="background-color:#d3d3d3;">&nbsp; &nbsp; getcsvValues(3, 6, 16);</span><br sandbox="allow-forms allow-same-origin allow-scripts allow-popups" />
<span style="background-color:#d3d3d3;">&nbsp; &nbsp; // XPATH: /html/body/div[2]/div[2]/div[3]/div[4]/div/table/tbody/tr[43]/td[14]/span[1]</span><br sandbox="allow-forms allow-same-origin allow-scripts allow-popups" />
<span style="background-color:#d3d3d3;">&nbsp; &nbsp; // getcsvValues(4, 43, 14);</span></p>

<p dir="ltr"><span style="background-color:#d3d3d3;">&nbsp; &nbsp; console.log("No more values");</span><br sandbox="allow-forms allow-same-origin allow-scripts allow-popups" />
<span style="background-color:#d3d3d3;">})();</span></p>

<p dir="ltr">&nbsp;</p>

<p dir="ltr"><strong sandbox="allow-forms allow-same-origin allow-scripts allow-popups">RTC Defect to Arabic fix</strong></p>

<p dir="ltr">Defect 254707:<br sandbox="allow-forms allow-same-origin allow-scripts allow-popups" />
<a href="https://jazz031.hursley.ibm.com:9443/ccm/web/projects/SPM#action=com.ibm.team.workitem.viewWorkItem&amp;id=254707">https://jazz031.hursley.ibm.com:9443/ccm/web/projects/SPM#action=com.ibm.team.workitem.viewWorkItem&amp;id=254707</a></p></div>    </div>
  </div>
</div>

</body>
</html>